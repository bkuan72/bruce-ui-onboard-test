{"version":3,"sources":["scripts/test/test-menu/app-test-menu.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;IAuBA;QAAiC,+BAAkC;QAG/D,qBAAmB,MAAuB;;YAA1C,YACI,kBAAM,MAAM,CAAC,SAqBhB;YAxBO,WAAK,GAAG,EAAE,CAAC,UAAU,EAAe,CAAC;YACrC,oBAAc,GAAG,EAAE,CAAC,eAAe,CAAiB,EAAE,CAAC,CAAC;YAGrD,IAAA,QAAQ,GAAI,MAAM,SAAV,CAAW;YAC1B,IAAM,IAAI,GAAG,kBAAO,CAAC,QAAQ,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;YAC5C,IAAI,IAAI,IAAI,IAAI,EAAE;gBAEd,IAAM,UAAU,SAAwB,IAAI,aAAJ,IAAI,uBAAJ,IAAI,CAAE,IAAI,0CAAE,UAAU,CAAC;gBAE/D,IAAI,QAAQ,GAAG,oCAAgB,CAAC,UAAU,EAAE,QAAQ,EAAE,IAAI,aAAJ,IAAI,uBAAJ,IAAI,CAAE,MAAM,CAAC,CAAC;gBAEpE,KAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,CAAC;gBAC9B,KAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;aACpB;YACD,KAAI,CAAC,aAAa,CAAC,MAAM,CAAC,KAAK,CAAC,SAAS,CAAC,UAAC,IAAI;;gBAC3C,OAAO,CAAC,GAAG,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;gBAC1B,IAAM,UAAU,SAAwB,IAAI,aAAJ,IAAI,uBAAJ,IAAI,CAAE,IAAI,0CAAE,UAAU,CAAC;gBAC/D,IAAI,QAAQ,GAAG,oCAAgB,CAAC,UAAU,EAAE,QAAQ,EAAE,IAAI,aAAJ,IAAI,uBAAJ,IAAI,CAAE,MAAM,CAAC,CAAC;gBACpE,OAAO,CAAC,GAAG,CAAC,UAAU,EAAE,QAAQ,CAAC,CAAC;gBAClC,KAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,CAAC;gBAC9B,KAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;YACrB,CAAC,CAAC,CAAC,CAAC;;QAER,CAAC;QACO,gCAAU,GAAlB;YACI,gBAAM,CAAC,OAAO,CAAC,eAAe,EAAE,IAAI,CAAC,CAAC;YACtC,gBAAM,CAAC,OAAO,CAAC,gBAAgB,EAAE,KAAK,CAAC,CAAC;QAC5C,CAAC;QA7BQ,WAAW;YADvB,qBAAS,CAAC,EAAE,IAAI,EAAE,eAAe,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;WACxC,WAAW,CA+BvB;QAAD,kBAAC;KA/BD,AA+BC,CA/BgC,6BAAiB,GA+BjD;IA/BY,kCAAW","file":"app-test-menu.js","sourcesContent":["import * as html from \"./app-test-menu.html\";\r\nimport \"./app-test-menu.css\";\r\nimport { IAbstractComponentParams, Component, AbstractComponent } from \"../../common/decorator/component\";\r\nimport { BruceInfo,IEntityTypeAttribute,  EntityType } from \"bruce-maps-widget\";\r\nimport {generateMenuData,MenuDataSchema} from \"../../common/utils/MenuDataGenerator\";\r\nimport pubsub from \"../../common/utils/pubsub\";\r\nimport {UISchema} from \"../../common/data/schema\";\r\nimport {KoUtils} from \"../../common/utils/ko-utils\";\r\ninterface IEntityData\r\n{\r\n    record: BruceInfo;\r\n    type: EntityType;\r\n    photoUrl: string;\r\n    name: string;\r\n}\r\n// component design to show the menu for important information\r\ninterface ITestMenuParams extends IAbstractComponentParams {\r\n    value:KnockoutObservable<IEntityData>;\r\n    uiSchema:UISchema[];\r\n}\r\n\r\n\r\n@Component({ name: \"app-test-menu\", template: html })\r\nexport class AppTestMenu extends AbstractComponent<ITestMenuParams> {\r\n    private value = ko.observable<IEntityData>();\r\n    private MenuDataSchema = ko.observableArray<MenuDataSchema>([]);\r\n    public constructor(params: ITestMenuParams) {\r\n        super(params);\r\n        const {uiSchema} = params;\r\n        const data = KoUtils.GetValue(params.value);\r\n        if (data != null) {\r\n           \r\n            const dataSchema:IEntityTypeAttribute = data?.type?.DataSchema;\r\n    \r\n            let menuData = generateMenuData(dataSchema, uiSchema, data?.record);\r\n     \r\n            this.MenuDataSchema(menuData);\r\n            this.value(data);\r\n        }\r\n        this.addDisposable(params.value.subscribe((data) => {\r\n            console.log('data', data);\r\n            const dataSchema:IEntityTypeAttribute = data?.type?.DataSchema;\r\n            let menuData = generateMenuData(dataSchema, uiSchema, data?.record);\r\n            console.log('menuData', menuData);\r\n            this.MenuDataSchema(menuData);\r\n            this.value(data);\r\n        }));\r\n        \r\n    }\r\n    private openDialog(): void {\r\n        pubsub.publish(\"DialogVisible\", true);\r\n        pubsub.publish(\"TooltipVisible\", false);\r\n    }\r\n    \r\n}"]}